<mat-drawer-container class="example-sidenav-fab-container">
  <mat-drawer #sidenav mode="side" opened="false" align="end">
    <div class="example-scrolling-content">
      <nav class="be-right-sidebar">
        <div class="sb-content">
          <div class="tab-navigation">
            <ul role="tablist" class="nav nav-tabs nav-justified">
            </ul>
          </div>
          <div class="tab-panel">
            <div class="tab-content">
              <div id="tab1" role="tabpanel" class="tab-pane tab-chat active" [class.chat-opened]="isMessageOpen">
                <!-- <app-chat></app-chat> -->
              </div>

            </div>
          </div>
        </div>
      </nav>
    </div>
  </mat-drawer>
  <div class="example-scrolling-content">
    <div class="wrapper">
      <div class="sidebar" data-active-color="blue" data-background-color="white">
        <!-- <sidebar-cmp></sidebar-cmp> -->
        <div class="sidebar-background"></div>
      </div>
      <div class="main-panel">
        <!-- <navbar-cmp></navbar-cmp> -->
        <div class="mail-container">

          <aside *ngIf="mail" class="page-aside">
            <div class="be-scroller">
              <div class="aside-content">
                <div class="content">
                  <div class="aside-header">
                    <button data-target=".aside-nav" data-toggle="collapse" type="button" class="navbar-toggle">
                      <span class="icon mdi mdi-caret-down"></span>
                    </button>
                    <span class="title">
                      <i class="material-icons">people</i> Users </span>
                    <p class="description">{{ agency }}</p>
                  </div>
                  <hr style="margin-top:20px; margin-bottom:0px;" />
                  <div class="contact-list">
                    <div *ngIf="users.length > 0">
                      <div *ngFor="let u of users" class="user" (click)="openChat(u)">
                        <a href="javascript:;">
                          <img class="chat-user-img" *ngIf="u.user.image_url === null" src="assets/img/default-avatar.png"
                            alt="Avatar">
                          <img class="chat-user-img" *ngIf="u.user.image_url !== null" src="{{ u.user.image_url }}" alt="Avatar">
                          <div class="user-data2">
                            <span class="status offline"></span>
                            <span class="name">{{ u?.user.first_name }} {{ u.user.last_name }}</span>
                            <span *ngIf="u.thread" class="role">{{ u?.thread.lastMessage.body }}</span>
                          </div>
                        </a>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </aside>

          <router-outlet></router-outlet>
        </div>
      </div>
      <div class="fixed-plugin" hidden>
        <div class="dropdown show-dropdown">
          <a href="#" data-toggle="dropdown">
            <i class="fa fa-cog fa-2x"> </i>
          </a>
          <ul class="dropdown-menu">
            <li class="header-title"> Sidebar Filters</li>
            <li class="adjustments-line">
              <a href="javascript:void(0)" class="switch-trigger active-color">
                <div class="badge-colors text-center">
                  <span class="badge filter badge-purple" data-color="purple"></span>
                  <span class="badge filter badge-blue" data-color="blue"></span>
                  <span class="badge filter badge-green" data-color="green"></span>
                  <span class="badge filter badge-orange" data-color="orange"></span>
                  <span class="badge filter badge-red" data-color="red"></span>
                  <span class="badge filter badge-white active" data-color="white"></span>
                  <span class="badge filter badge-rose" data-color="rose"></span>
                </div>
                <div class="clearfix"></div>
              </a>
            </li>
            <li class="header-title">Sidebar Background</li>
            <li class="adjustments-line">
              <a href="javascript:void(0)" class="switch-trigger background-color">
                <div class="text-center">
                  <span class="badge filter badge-white" data-color="white"></span>
                  <span class="badge filter badge-black" data-color="black"></span>
                  <span class="badge filter badge-red active" data-color="red"></span>
                </div>
                <div class="clearfix"></div>
              </a>
            </li>
            <li class="adjustments-line">
              <a href="javascript:void(0)" class="switch-trigger">
                <p>Sidebar Mini</p>
                <div class="togglebutton switch-sidebar-mini">
                  <label>
                    <input type="checkbox" unchecked="">
                  </label>
                </div>
                <div class="clearfix"></div>
              </a>
            </li>
            <li class="adjustments-line">
              <a href="javascript:void(0)" class="switch-trigger">
                <p>Sidebar Image</p>
                <div class="togglebutton switch-sidebar-image">
                  <label>
                    <input type="checkbox" checked="">
                  </label>
                </div>
                <div class="clearfix"></div>
              </a>
            </li>
            <li class="header-title">Images</li>

          </ul>
        </div>
      </div>
    </div>
  </div>
</mat-drawer-container>
